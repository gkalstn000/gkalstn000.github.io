---
title: Static은 어떤 상황에 붙여야 하는가?
tags: [Java]
keywords:
last_updated: July 27, 2020
summary: "학교 과제를 구현할 때 변수나 메서드를 static으로 선언해야하는가 아닌가에 대한 고민이있었는데 지금부터 그 차이를 살펴보겠다."
sidebar: programming_sidebar
permalink: Static.html
folder: programming
---
우선 JVM메모리 구조에 대해서 한번 짚고 넘어가보겠다.  
{% include image.html file="jvm_memory.png" caption="JVM구조를 매우 추상적으로 표현을 해보았다." %}
코드를 실행시키면 컴파일러가 코드의 내용들을 정리해서 JVM 메모리에 올려놓고 작업을 실행하는데, 자바는 메모리를 3개의 구역으로 나누어서 작업한다.  

## Class Area(Method Area)
Class Data를 이곳에 저장(Class, Class 변수, Class 메서드)
## Heap Area
Instance Data를 이곳에 저장.  
작업 수행하는 동안 지역변수와 중간결과등을 저장하고 **작업을 마치면 메모리 공간이 반환되어 비워짐**.
## Call Stack
Class Area, Heap Area의 Data를 이용해 연산이 되는 공간(Stack 구조로 되어있다).  
메서드가 수행되는 영역  
e.printstack하면 이 스택에 쌓여진 메서드들이 호출됨. 제일 상단이 현재 실행중인 메서드.
<br/><br/><br/>
JVM 메모리 구조는 대충 이런식으로 돌아간다. 그렇다면 메모리 영역에 올라가는 것들에 대해서 자세히 알아보자.



## Static Data
{% include callout.html content="1. 코드를 실행 시키는 순간 클래스 데이터가 메모리에 적재됨." type="primary" %}
{% include callout.html content="2. 모든 데이터(변수, 메서드)가 **공통된 저장공간을 공유한다.**" type="primary" %}
{% include callout.html content="3. 프로그램 종료될 때 까지 메모리에 유지된다." type="primary" %}
static 데이터의 중요한 특성을 3가지로 요약해 보았다. 이러한 특성을 한마디로 요약하면
{% include note.html content="한 클래스에서 만들어진 인스턴스(객체) 간에 공통으로 사용되는 변수나 메서드는 static으로 선언하는 것이 좋다." %}

## Instance Data
{% include callout.html content="1. 인스턴스(객체)는 독립적 공간을 가지므로 각 인스턴스의 인스턴스 데이터(변수, 메서드) 또한 독립적인 공간을 사용함." type="primary" %}
{% include callout.html content="2. 인스턴스를 참조하는 변수가 없어질 경우 인스턴스가 가비지 콜렉터에의해 소멸하며 변수메모리도 자동으로 반납" type="primary"%}
instance 데이터의 중요한 특성을 2가지로 요약해 보았다. 이러한 특성을 한마디로 요약하면
{% include note.html content="인스턴스마다 고유한 상태를 유지해야하는 속성의 경우 인스턴스 변수로 선언" %}




## Local Variable

{....}블럭 내에서만 유효함(method, for, while 등등) 메서드가 종료되면 가비지 콜렉터에 의해 자동으로 소멸됨.

## 요약
{% include image.html file="summary_data.png" caption="" %}
Class Data를 각 인스턴스가 공유하고, 각 인스턴스마다 인스턴스 데이터가 독립적으로 존재하며 그 데이터들을 가지고 Call Stack에서 연산이 일어난다.  
각 인스턴스에 **공통적으로 사용되는 Data** 또는 **인스턴스 메소드에 사용되지않는 변수 또는 메서드** 는 Static으로 선언하는것이 더 효율적이다.
