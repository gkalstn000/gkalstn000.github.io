---
layout: post
title:  "당뇨병 예측[데이터셋 탐구]"
categories: ML AI
date:   2021-03-14 13:10:18 +0900
tags: pre_process
mathjax: True
author: Haribo
---
* content
{:toc}
# 당뇨병 환자 예측 모델링

data shape : 2000000 x 28


```python
# data analysis and wrangling
import pandas as pd
import numpy as np
import random as rnd
pd.set_option('display.max_columns', 100)


# visualization
import seaborn as sns
import matplotlib.pyplot as plt
%matplotlib inline

# machine learning
from sklearn.linear_model import LogisticRegression
from sklearn.svm import SVC, LinearSVC
from sklearn.ensemble import RandomForestClassifier
from sklearn.neighbors import KNeighborsClassifier
from sklearn.naive_bayes import GaussianNB
from sklearn.linear_model import Perceptron
from sklearn.linear_model import SGDClassifier
from sklearn.tree import DecisionTreeClassifier
```










```python
data_2017 = pd.read_csv('./NHIS_2017_2018_100m/NHIS_OPEN_GJ_2017_100.csv')
data_2018 = pd.read_csv('./NHIS_2017_2018_100m/NHIS_OPEN_GJ_2018_100.csv')
df = pd.concat([data_2017,data_2018])
```


```python
drop_cols = ['HCHK_YEAR', 'IDV_ID', 'TTH_MSS_YN', 'ODT_TRB_YN', 'WSDM_DIS_YN', 'DATA_STD__DT']
df.drop(drop_cols, axis = 1, inplace = True)
```


```python
df.head()
```



<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
    .dataframe tbody tr th {
        vertical-align: middle;
    }
    .dataframe thead th {
        text-align: right;
    }
</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SEX</th>
      <th>AGE_GROUP</th>
      <th>HEIGHT</th>
      <th>WEIGHT</th>
      <th>WAIST</th>
      <th>SIGHT_LEFT</th>
      <th>SIGHT_RIGHT</th>
      <th>HEAR_LEFT</th>
      <th>HEAR_RIGHT</th>
      <th>BP_HIGH</th>
      <th>BP_LWST</th>
      <th>BLDS</th>
      <th>TOT_CHOLE</th>
      <th>TRIGLYCERIDE</th>
      <th>HDL_CHOLE</th>
      <th>LDL_CHOLE</th>
      <th>HMG</th>
      <th>OLIG_PROTE_CD</th>
      <th>CREATININE</th>
      <th>SGOT_AST</th>
      <th>SGPT_ALT</th>
      <th>GAMMA_GTP</th>
      <th>SMK_STAT_TYPE_CD</th>
      <th>DRK_YN</th>
      <th>HCHK_OE_INSPEC_YN</th>
      <th>CRS_YN</th>
      <th>TTR_YN</th>
      <th>SIDO_50</th>
      <th>SIDO_busan</th>
      <th>SIDO_chongB</th>
      <th>SIDO_chongN</th>
      <th>SIDO_dagu</th>
      <th>SIDO_dajeon</th>
      <th>SIDO_gangwon</th>
      <th>SIDO_gyeongB</th>
      <th>SIDO_gyeongN</th>
      <th>SIDO_gyeonggi</th>
      <th>SIDO_incheon</th>
      <th>SIDO_jeonB</th>
      <th>SIDO_jeonN</th>
      <th>SIDO_kwangju</th>
      <th>SIDO_sejong</th>
      <th>SIDO_seoul</th>
      <th>SIDO_ulsan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>8</td>
      <td>170</td>
      <td>75</td>
      <td>90.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>120.0</td>
      <td>80.0</td>
      <td>0.0</td>
      <td>193.0</td>
      <td>92.0</td>
      <td>48.0</td>
      <td>126.0</td>
      <td>17.1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>35.0</td>
      <td>40.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>7</td>
      <td>180</td>
      <td>80</td>
      <td>89.0</td>
      <td>0.9</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>130.0</td>
      <td>82.0</td>
      <td>0.0</td>
      <td>228.0</td>
      <td>121.0</td>
      <td>55.0</td>
      <td>148.0</td>
      <td>15.8</td>
      <td>1.0</td>
      <td>0.9</td>
      <td>20.0</td>
      <td>36.0</td>
      <td>27.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>9</td>
      <td>165</td>
      <td>75</td>
      <td>91.0</td>
      <td>1.2</td>
      <td>1.5</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>120.0</td>
      <td>70.0</td>
      <td>0.0</td>
      <td>136.0</td>
      <td>104.0</td>
      <td>41.0</td>
      <td>74.0</td>
      <td>15.8</td>
      <td>1.0</td>
      <td>0.9</td>
      <td>47.0</td>
      <td>32.0</td>
      <td>68.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>11</td>
      <td>175</td>
      <td>80</td>
      <td>91.0</td>
      <td>1.5</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>145.0</td>
      <td>87.0</td>
      <td>0.0</td>
      <td>201.0</td>
      <td>106.0</td>
      <td>76.0</td>
      <td>104.0</td>
      <td>17.6</td>
      <td>1.0</td>
      <td>1.1</td>
      <td>29.0</td>
      <td>34.0</td>
      <td>18.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>11</td>
      <td>165</td>
      <td>60</td>
      <td>80.0</td>
      <td>1.0</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>138.0</td>
      <td>82.0</td>
      <td>0.0</td>
      <td>199.0</td>
      <td>104.0</td>
      <td>61.0</td>
      <td>117.0</td>
      <td>13.8</td>
      <td>1.0</td>
      <td>0.8</td>
      <td>19.0</td>
      <td>12.0</td>
      <td>25.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>0.0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>

</div>



# Analyze by describing data¶

feature들의 타입을 확인한다.

* categorical
* numerical


```python
print(df.columns.values)
```

    ['SEX' 'AGE_GROUP' 'SIDO' 'HEIGHT' 'WEIGHT' 'WAIST' 'SIGHT_LEFT'
     'SIGHT_RIGHT' 'HEAR_LEFT' 'HEAR_RIGHT' 'BP_HIGH' 'BP_LWST' 'BLDS'
     'TOT_CHOLE' 'TRIGLYCERIDE' 'HDL_CHOLE' 'LDL_CHOLE' 'HMG' 'OLIG_PROTE_CD'
     'CREATININE' 'SGOT_AST' 'SGPT_ALT' 'GAMMA_GTP' 'SMK_STAT_TYPE_CD'
     'DRK_YN' 'HCHK_OE_INSPEC_YN' 'CRS_YN' 'TTR_YN']



```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }


    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }

</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SEX</th>
      <th>AGE_GROUP</th>
      <th>SIDO</th>
      <th>HEIGHT</th>
      <th>WEIGHT</th>
      <th>WAIST</th>
      <th>SIGHT_LEFT</th>
      <th>SIGHT_RIGHT</th>
      <th>HEAR_LEFT</th>
      <th>HEAR_RIGHT</th>
      <th>BP_HIGH</th>
      <th>BP_LWST</th>
      <th>BLDS</th>
      <th>TOT_CHOLE</th>
      <th>TRIGLYCERIDE</th>
      <th>HDL_CHOLE</th>
      <th>LDL_CHOLE</th>
      <th>HMG</th>
      <th>OLIG_PROTE_CD</th>
      <th>CREATININE</th>
      <th>SGOT_AST</th>
      <th>SGPT_ALT</th>
      <th>GAMMA_GTP</th>
      <th>SMK_STAT_TYPE_CD</th>
      <th>DRK_YN</th>
      <th>HCHK_OE_INSPEC_YN</th>
      <th>CRS_YN</th>
      <th>TTR_YN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>8</td>
      <td>43</td>
      <td>170</td>
      <td>75</td>
      <td>90.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>120.0</td>
      <td>80.0</td>
      <td>99.0</td>
      <td>193.0</td>
      <td>92.0</td>
      <td>48.0</td>
      <td>126.0</td>
      <td>17.1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>21.0</td>
      <td>35.0</td>
      <td>40.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>7</td>
      <td>11</td>
      <td>180</td>
      <td>80</td>
      <td>89.0</td>
      <td>0.9</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>130.0</td>
      <td>82.0</td>
      <td>106.0</td>
      <td>228.0</td>
      <td>121.0</td>
      <td>55.0</td>
      <td>148.0</td>
      <td>15.8</td>
      <td>1.0</td>
      <td>0.9</td>
      <td>20.0</td>
      <td>36.0</td>
      <td>27.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>9</td>
      <td>41</td>
      <td>165</td>
      <td>75</td>
      <td>91.0</td>
      <td>1.2</td>
      <td>1.5</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>120.0</td>
      <td>70.0</td>
      <td>98.0</td>
      <td>136.0</td>
      <td>104.0</td>
      <td>41.0</td>
      <td>74.0</td>
      <td>15.8</td>
      <td>1.0</td>
      <td>0.9</td>
      <td>47.0</td>
      <td>32.0</td>
      <td>68.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>0</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>11</td>
      <td>48</td>
      <td>175</td>
      <td>80</td>
      <td>91.0</td>
      <td>1.5</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>145.0</td>
      <td>87.0</td>
      <td>95.0</td>
      <td>201.0</td>
      <td>106.0</td>
      <td>76.0</td>
      <td>104.0</td>
      <td>17.6</td>
      <td>1.0</td>
      <td>1.1</td>
      <td>29.0</td>
      <td>34.0</td>
      <td>18.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>11</td>
      <td>30</td>
      <td>165</td>
      <td>60</td>
      <td>80.0</td>
      <td>1.0</td>
      <td>1.2</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>138.0</td>
      <td>82.0</td>
      <td>101.0</td>
      <td>199.0</td>
      <td>104.0</td>
      <td>61.0</td>
      <td>117.0</td>
      <td>13.8</td>
      <td>1.0</td>
      <td>0.8</td>
      <td>19.0</td>
      <td>12.0</td>
      <td>25.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1</td>
      <td>NaN</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>

</div>



## categorical features

SEX, SIDO, HEAR_LEFT, HEAR_RIGHT, SMK_STAT_TYPE_CD, DRK_YN, HCHK_OE_INSPEC_YN, CRS_YN, TTR_YN

## numerical features

Continous : HEIGHT, WEIGHT, WAIST, SIGHT_LEFT, SIGHT_RIGHT, BP_HIGH, BP_LWST, **BLDS**, TOT_CHOLE, TRIGLYCERIDE, HDL_CHOLE, LDL_CHOLE, HMG, CREATININE, SGOT_AST, SGPT_ALT, GAMMA_GTP  
Discrete : AGE_GROUP, OLIG_PROTE_CD


```python
categorical = ['SEX', 'SIDO', 'HEAR_LEFT', 'HEAR_RIGHT', 'SMK_STAT_TYPE_CD', 'DRK_YN', 'HCHK_OE_INSPEC_YN', 'CRS_YN', 'TTR_YN']
numerical = ['HEIGHT', 'WEIGHT', 'WAIST', 'SIGHT_LEFT', 'SIGHT_RIGHT', 'BP_HIGH', 'BP_LWST', 'BLDS', 'TOT_CHOLE', 'TRIGLYCERIDE', 'HDL_CHOLE', 'LDL_CHOLE', 'HMG', 'CREATININE', 'SGOT_AST', 'SGPT_ALT', 'GAMMA_GTP', 'AGE_GROUP', 'OLIG_PROTE_CD']
```

# null values

WAIST, SIGHT_LEFT, SIGHT_RIGHT, HEAR_LEFT, HEAR_RIGHT, BP_HIGH, BP_LWST, BLDS, TOT_CHOLE, TRIGLYCERIDE, HDL_CHOLE, LDL_CHOLE, HMG, OLIG_PROTE_CD, CREATININE, SGOT_AST, SGPT_ALT, GAMMA_GTP, SMK_STAT_TYPE_CD, DRK_YN, CRS_YN, TTR_YN


```python
df.isnull().sum()
```




    SEX                        0
    AGE_GROUP                  0
    SIDO                       0
    HEIGHT                     0
    WEIGHT                     0
    WAIST                    680
    SIGHT_LEFT               436
    SIGHT_RIGHT              455
    HEAR_LEFT                375
    HEAR_RIGHT               373
    BP_HIGH                 5749
    BP_LWST                 5748
    BLDS                    5957
    TOT_CHOLE             667287
    TRIGLYCERIDE          667297
    HDL_CHOLE             667298
    LDL_CHOLE             677034
    HMG                     5966
    OLIG_PROTE_CD          15162
    CREATININE              5949
    SGOT_AST                5947
    SGPT_ALT                5948
    GAMMA_GTP               5951
    SMK_STAT_TYPE_CD         378
    DRK_YN                355479
    HCHK_OE_INSPEC_YN          0
    CRS_YN               1600008
    TTR_YN               1199484
    dtype: int64



# Distribution of datasets


```python
df[numerical].describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }


    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }

</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>HEIGHT</th>
      <th>WEIGHT</th>
      <th>WAIST</th>
      <th>SIGHT_LEFT</th>
      <th>SIGHT_RIGHT</th>
      <th>BP_HIGH</th>
      <th>BP_LWST</th>
      <th>BLDS</th>
      <th>TOT_CHOLE</th>
      <th>TRIGLYCERIDE</th>
      <th>HDL_CHOLE</th>
      <th>LDL_CHOLE</th>
      <th>HMG</th>
      <th>CREATININE</th>
      <th>SGOT_AST</th>
      <th>SGPT_ALT</th>
      <th>GAMMA_GTP</th>
      <th>AGE_GROUP</th>
      <th>OLIG_PROTE_CD</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2.000000e+06</td>
      <td>2.000000e+06</td>
      <td>1.999320e+06</td>
      <td>1.999564e+06</td>
      <td>1.999545e+06</td>
      <td>1.994251e+06</td>
      <td>1.994252e+06</td>
      <td>1.994043e+06</td>
      <td>1.332713e+06</td>
      <td>1.332703e+06</td>
      <td>1.332702e+06</td>
      <td>1.322966e+06</td>
      <td>1.994034e+06</td>
      <td>1.994051e+06</td>
      <td>1.994053e+06</td>
      <td>1.994052e+06</td>
      <td>1.994049e+06</td>
      <td>2.000000e+06</td>
      <td>1.984838e+06</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.622604e+02</td>
      <td>6.342898e+01</td>
      <td>8.134754e+01</td>
      <td>9.786358e-01</td>
      <td>9.762449e-01</td>
      <td>1.225481e+02</td>
      <td>7.606142e+01</td>
      <td>1.006600e+02</td>
      <td>1.956388e+02</td>
      <td>1.335479e+02</td>
      <td>5.680952e+01</td>
      <td>1.131066e+02</td>
      <td>1.425832e+01</td>
      <td>8.633026e-01</td>
      <td>2.614770e+01</td>
      <td>2.601790e+01</td>
      <td>3.739504e+01</td>
      <td>1.056190e+01</td>
      <td>1.095813e+00</td>
    </tr>
    <tr>
      <th>std</th>
      <td>9.310089e+00</td>
      <td>1.262693e+01</td>
      <td>1.106285e+01</td>
      <td>6.073918e-01</td>
      <td>6.047442e-01</td>
      <td>1.459186e+01</td>
      <td>9.954033e+00</td>
      <td>2.418251e+01</td>
      <td>3.918748e+01</td>
      <td>1.038458e+02</td>
      <td>1.929372e+01</td>
      <td>3.656292e+01</td>
      <td>1.583889e+00</td>
      <td>4.986576e-01</td>
      <td>2.501259e+01</td>
      <td>2.678962e+01</td>
      <td>5.061595e+01</td>
      <td>2.860501e+00</td>
      <td>4.390614e-01</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.250000e+02</td>
      <td>2.500000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e-01</td>
      <td>1.000000e-01</td>
      <td>5.800000e+01</td>
      <td>2.700000e+01</td>
      <td>2.300000e+01</td>
      <td>6.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>5.000000e-01</td>
      <td>1.000000e-01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>5.000000e+00</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.550000e+02</td>
      <td>5.500000e+01</td>
      <td>7.450000e+01</td>
      <td>7.000000e-01</td>
      <td>7.000000e-01</td>
      <td>1.120000e+02</td>
      <td>7.000000e+01</td>
      <td>8.900000e+01</td>
      <td>1.690000e+02</td>
      <td>7.400000e+01</td>
      <td>4.600000e+01</td>
      <td>8.900000e+01</td>
      <td>1.320000e+01</td>
      <td>7.000000e-01</td>
      <td>1.900000e+01</td>
      <td>1.500000e+01</td>
      <td>1.600000e+01</td>
      <td>8.000000e+00</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.600000e+02</td>
      <td>6.000000e+01</td>
      <td>8.100000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.210000e+02</td>
      <td>7.600000e+01</td>
      <td>9.600000e+01</td>
      <td>1.930000e+02</td>
      <td>1.080000e+02</td>
      <td>5.500000e+01</td>
      <td>1.110000e+02</td>
      <td>1.430000e+01</td>
      <td>8.000000e-01</td>
      <td>2.300000e+01</td>
      <td>2.000000e+01</td>
      <td>2.300000e+01</td>
      <td>1.100000e+01</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.700000e+02</td>
      <td>7.000000e+01</td>
      <td>8.800000e+01</td>
      <td>1.200000e+00</td>
      <td>1.200000e+00</td>
      <td>1.310000e+02</td>
      <td>8.200000e+01</td>
      <td>1.050000e+02</td>
      <td>2.200000e+02</td>
      <td>1.600000e+02</td>
      <td>6.500000e+01</td>
      <td>1.350000e+02</td>
      <td>1.540000e+01</td>
      <td>1.000000e+00</td>
      <td>2.900000e+01</td>
      <td>3.000000e+01</td>
      <td>4.000000e+01</td>
      <td>1.300000e+01</td>
      <td>1.000000e+00</td>
    </tr>
    <tr>
      <th>max</th>
      <td>1.900000e+02</td>
      <td>1.400000e+02</td>
      <td>9.990000e+02</td>
      <td>9.900000e+00</td>
      <td>9.900000e+00</td>
      <td>2.730000e+02</td>
      <td>1.850000e+02</td>
      <td>8.720000e+02</td>
      <td>2.386000e+03</td>
      <td>9.490000e+03</td>
      <td>8.110000e+03</td>
      <td>5.119000e+03</td>
      <td>2.500000e+01</td>
      <td>9.800000e+01</td>
      <td>9.999000e+03</td>
      <td>7.210000e+03</td>
      <td>9.990000e+02</td>
      <td>1.800000e+01</td>
      <td>6.000000e+00</td>
    </tr>
  </tbody>
</table>

</div>




```python
df[categorical].describe(include='all')
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }


    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }

</style>

<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>SEX</th>
      <th>SIDO</th>
      <th>HEAR_LEFT</th>
      <th>HEAR_RIGHT</th>
      <th>SMK_STAT_TYPE_CD</th>
      <th>DRK_YN</th>
      <th>HCHK_OE_INSPEC_YN</th>
      <th>CRS_YN</th>
      <th>TTR_YN</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>2.000000e+06</td>
      <td>2.000000e+06</td>
      <td>1.999625e+06</td>
      <td>1.999627e+06</td>
      <td>1.999622e+06</td>
      <td>1.644521e+06</td>
      <td>2.000000e+06</td>
      <td>399992.000000</td>
      <td>800516.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.466995e+00</td>
      <td>3.369548e+01</td>
      <td>1.032698e+00</td>
      <td>1.031518e+00</td>
      <td>1.607232e+00</td>
      <td>6.956865e-01</td>
      <td>4.002580e-01</td>
      <td>0.215164</td>
      <td>0.603340</td>
    </tr>
    <tr>
      <th>std</th>
      <td>4.989096e-01</td>
      <td>1.267530e+01</td>
      <td>1.778441e-01</td>
      <td>1.747127e-01</td>
      <td>8.176123e-01</td>
      <td>4.601162e-01</td>
      <td>4.899507e-01</td>
      <td>0.410937</td>
      <td>0.591625</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.000000e+00</td>
      <td>1.100000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.000000e+00</td>
      <td>2.700000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.000000e+00</td>
      <td>4.100000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>2.000000e+00</td>
      <td>4.300000e+01</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>2.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>0.000000</td>
      <td>1.000000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2.000000e+00</td>
      <td>5.000000e+01</td>
      <td>2.000000e+00</td>
      <td>2.000000e+00</td>
      <td>3.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000e+00</td>
      <td>1.000000</td>
      <td>2.000000</td>
    </tr>
  </tbody>
</table>

</div>



# Target

**BLDS**

* 1 : 당뇨병 `if BLDS >= 127`
* 0 : 정상인 `if BLDS < 127`  

Target은 결측치를 채워 넣을 수 없으니 결측치 `drop` 한다.  
12.3 : 1 비율의 불균형 데이터


```python
df.loc[ df['BLDS'] < 127, 'BLDS'] = 0
df.loc[ df['BLDS'] >= 127, 'BLDS'] = 1
df = df.dropna(subset = ['BLDS'], how = 'any', axis=0)
```


```python
plt.figure(figsize=(15,10))
sns.countplot(df['BLDS'])
plt.title("BLDS",fontsize=15)
plt.show()
```

    /Users/minsuha/anaconda3/lib/python3.8/site-packages/seaborn/_decorators.py:36: FutureWarning: Pass the following variable as a keyword arg: x. From version 0.12, the only valid positional argument will be `data`, and passing other arguments without an explicit keyword will result in an error or misinterpretation.
      warnings.warn(




![png](/images/pbl/output_17_1.png)
