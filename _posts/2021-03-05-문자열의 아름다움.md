---
layout: post
title:  "문자열의 아름다움"
categories: 프로그래머스 월간_코드_챌린지_시즌1
date: 2021-03-05 15:06:18 +0900
tags: Lv.5
mathjax: true
author: Haribo
---

* content
{:toc}
```python
from collections import defaultdict
from itertools import groupby
def solution(s):
    char_seq_count = defaultdict(lambda: defaultdict(int))
    for char, group in groupby(s):
        char_seq_count[char][len(list(group))] += 1
    answer = ((n := len(s)) - 1) * n * (n + 1) // 6
    for char_seq in char_seq_count.values():
        t = sum(char_seq.values())
        s = sum(l * count for l, count in char_seq.items())
        for l in range(1, max(char_seq) + 1):
            answer -= s * (s - 1) // 2
            s -= t
            t -= char_seq[l]
    return answer
```

[teferi풀이 참고](http://www.teferi.net/ps/problems/programmers/68938#comment_5c0b5b3432fcc27ca4b02fd2aa29ebc9)

