---
layout: post
title:  "사칙연산"
categories: 프로그래머스 찾아라_프로그래밍_마에스터
date:   2021-02-28 11:40:18 +0800
tags: Lv.4 DP
mathjax: true
author: Haribo
---

* content
{:toc}
$$O(n^3)$$ 풀이  

[최적 행렬곱셈](https://gkalstn000.github.io/2021/02/05/%EC%B5%9C%EC%A0%81%EC%9D%98-%ED%96%89%EB%A0%AC-%EA%B3%B1%EC%85%88/) 업그레이드 문제

```python
import re
def solution(arr):
    num = re.findall('\d+', (k := ''.join(arr)))
    sign = re.findall('\D', k )
    n = len(num)
    dp_max = [[-1e9]*n for _ in range(n)]
    dp_min = [[1e9]*n for _ in range(n)]

    for i in range(n) :
        dp_max[i][i] = int(num[i])
        dp_min[i][i] = int(num[i])

    for gap in range(1, n) :
        for i in range(n-gap) :
            for k in range(i, (j := i+gap)) :
                if sign[k] == '+' :
                    dp_max[i][j] = max(dp_max[i][j], dp_max[i][k] + dp_max[k+1][j])
                    dp_min[i][j] = min(dp_min[i][j], dp_min[i][k] + dp_min[k+1][j])
                else :
                    dp_max[i][j] = max(dp_max[i][j], dp_max[i][k] - dp_min[k+1][j])
                    dp_min[i][j] = min(dp_min[i][j], dp_min[i][k] - dp_max[k+1][j])
    return dp_max[0][-1]
```

---









$$O(n)$$풀이

```python
def solution(arr):
    cur_sum = prev_max = prev_sum = 0
    for sign, num in zip(arr[-2::-2], arr[-1::-2]):
        num = int(num)
        if sign == '+':        
            cur_sum += num
        else:
            prev_max = -num + max(cur_sum + prev_max, -cur_sum + prev_sum)
            prev_sum += cur_sum + num
            cur_sum = 0
    return int(arr[0]) + cur_sum + prev_max
```
